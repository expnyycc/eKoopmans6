<!DOCTYPE html>
<!-- Â© 2017 Erik Koopmans -->
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>html2pdf tester</title>
</head>
<body>

	<div id="test">
		<h1>This is a test</h1>
		<p>Testing testing 123</p>
	</div>

	<!-- Includes -->
	<script src="lib/jspdf.debug.js"></script>
	<script src="html2canvas.min.js"></script>
	<script src="html2pdf.js"></script>

	<script id="pdfTemplate" type="text/template">
		<div id="orderPDF">
			<table id="orderPDF_title">
				<tr>
					<td><h1>University of Toronto Press Order Form</h1></td>
				</tr>
				<tr>
					<td colspan="2">
						<h3>Please place large orders to University of Toronto Press (UTP) in writing. All personal orders must be prepaid. Please order SMART Lesson Materials at http://www.jumpmath.org/cms/SMART_lessons.</h3>
					</td>
				</tr>
			</table>
			<table id="orderPDF_contents">
				<tr>
					<th>ISBN</th><th>TITLE</th><th>QUANTITY</th><th>PRICE/UNIT<br />after discount</th><th>SUBTOTAL</th>
				</tr>
				%contents%
			</table>
		</div>
	</script>

	<script>
		function makePDF() {
			var str = '';

			var template = document.getElementById('pdfTemplate').innerHTML;
			params = {contents: str};
			// This operation could be replaced by createTemplate('', ...);
			for (var key in params)
				template = template.replace(new RegExp('%' + key + '%', 'gi'), params[key]);

			var source = template;
//			var source = document.getElementById('test');
			var target = 'order.pdf';
			var optPDF = {orientation: 'portrait', unit: 'in', format: 'letter', compressPDF: true};
			var margin = 0.8;
			// var dpi = 144;
			var dpi = 288;
			html2pdf(source, target, optPDF, margin, dpi);
		}

		makePDF();
	</script>




</body>
</html>
